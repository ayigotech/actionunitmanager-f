<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="goBack()">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Manage Classes</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="addClass()">
                <ion-icon slot="icon-only" name="add"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
        <ion-refresher-content pullingIcon="chevron-down-circle-outline" pullingText="Pull to refresh" refreshingSpinner="circles" refreshingText="Refreshing...">
        </ion-refresher-content>
    </ion-refresher>




    <div class="classes-container">

        <!-- Header Section -->
        <div class="page-header">
            <h1>Action Unit Classes</h1>
            <p>Manage all Sabbath School classes</p>
        </div>

        <!-- Loading State -->
        <div *ngIf="isLoading" class="loading-state">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>

            <p>Loading classes...</p>
        </div>

        <!-- Classes List -->
        <div *ngIf="!isLoading" class="classes-list">

            <!-- Empty State -->
            <div *ngIf="classes.length === 0" class="empty-state">
                <div class="empty-icon">
                    <ion-icon name="people-outline"></ion-icon>
                </div>
                <h3>No Classes Yet</h3>
                <p>Create your first Action Unit class to get started</p>
                <ion-button (click)="addClass()" fill="solid">
                    Create First Class
                </ion-button>
            </div>

            <!-- Classes Grid -->
            <div *ngIf="classes.length > 0" class="classes-grid">
                <ion-card *ngFor="let class of classes" class="class-card">
                    <ion-card-content>
                        <div class="class-header">
                            <h3>{{ class.name }}</h3>
                            <div class="class-actions">
                                <ion-button fill="clear" size="small" (click)="editClass(class)">
                                    <ion-icon slot="icon-only" name="create-outline"></ion-icon>
                                </ion-button>
                                <ion-button fill="clear" size="small" color="danger" (click)="deleteClass(class)">
                                    <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                                </ion-button>
                            </div>
                        </div>

                        <div class="class-details">
                            <div class="detail-item">
                                <ion-icon name="person-outline"></ion-icon>
                                <span>Teacher: {{ class.teacher }}</span>
                            </div>

                            <div class="detail-item">
                                <ion-icon name="call-outline"></ion-icon>
                                <span>{{ class.teacherPhone }}</span>
                            </div>

                            <div class="detail-item">
                                <ion-icon name="people-outline"></ion-icon>
                                <span>{{ class.memberCount }} members</span>
                            </div>

                            <div class="detail-item">
                                <ion-icon name="location-outline"></ion-icon>
                                <span>{{ class.location }}</span>
                            </div>
                        </div>

                        <div class="class-footer">
                            <ion-button fill="outline" size="small" (click)="viewClassDetails(class)">
                                View Details
                            </ion-button>
                        </div>
                    </ion-card-content>
                </ion-card>
            </div>

        </div>

    </div>
</ion-content>